{% macro CardDeck(data) -%}

  {% if data.noOfColumns === 6 %}
    {% set columnClasses = "col-sm-6 col-md-4 col-lg-3 col-xl-2 mb-1 mb-sm-2" %}
  {% elif data.noOfColumns === 3 %}
    {% set columnClasses = "col-sm-6 col-md-4 mb-1 mb-sm-2" %}
  {% elif data.noOfColumns === 2 %}
    {% set columnClasses = "col-sm-6 mb-1 mb-sm-2" %}
  {% else  %}
    {% set columnClasses = "col-sm-6 col-lg-3 mb-1 mb-sm-2" %}
  {% endif %}

  {% if data.title %}
    <h2 class="mb-2">{{ data.title }}</h2>
  {% endif %}

  <div class="row">
    {% for i in data.cards %}
      <div class="{{ columnClasses }}">
        <div class="card h-100">
          {% if i.img %}
            <img data-src="{{ i.img.src }}" class="card-img-top js-lazy" alt="{{ i.img.alt }}" width="600" height="400">
          {% endif %}

          <div class="card-body">
            {% if i.heading %}
              <h5 class="card-title">{{ i.heading }}</h5>
            {% endif %}

            {% if i.body %}
              <p class="card-text">{{ i.body }}</p>
            {% endif %}

            {% if i.cta %}
              <a href="{{ i.cta.link }}" class="btn btn-primary">{{ i.cta.label }}</a>
            {% endif %}
          </div>
        </div>
      </div>
    {% endfor %}
  </div>

{%- endmacro %}

{{ CardDeck({
  "noOfColumns": 3,
  "title": "Card Deck",
  "cards": [
    {
      "img": {
        "src": "https://picsum.photos/id/770/600/400",
        "alt": ""
      },
      "heading": "Lorem ipsum",
      "body": "Lorem ipsum dolor sit amet consectetur, adipisicing elit. Exercitationem, sapiente.",
      "cta": {
        "label": "Find out more",
        "link": "#"
      }
    },
    {
      "img": {
        "src": "https://picsum.photos/id/770/600/400",
        "alt": ""
      },
      "heading": "Lorem ipsum",
      "body": "Lorem ipsum dolor sit amet consectetur, adipisicing elit. Exercitationem, sapiente.",
      "cta": {
        "label": "Find out more",
        "link": "#"
      }
    },
    {
      "img": {
        "src": "https://picsum.photos/id/770/600/400",
        "alt": ""
      },
      "heading": "Lorem ipsum",
      "body": "Lorem ipsum dolor sit amet consectetur, adipisicing elit. Exercitationem, sapiente.",
      "cta": {
        "label": "Find out more",
        "link": "#"
      }
    },
    {
      "img": {
        "src": "https://picsum.photos/id/770/600/400",
        "alt": ""
      },
      "heading": "Lorem ipsum",
      "body": "Lorem ipsum dolor sit amet consectetur, adipisicing elit. Exercitationem, sapiente.",
      "cta": {
        "label": "Find out more",
        "link": "#"
      }
    },
    {
      "img": {
        "src": "https://picsum.photos/id/770/600/400",
        "alt": ""
      },
      "heading": "Lorem ipsum",
      "body": "Lorem ipsum dolor sit amet consectetur, adipisicing elit. Exercitationem, sapiente.",
      "cta": {
        "label": "Find out more",
        "link": "#"
      }
    },
    {
      "img": {
        "src": "https://picsum.photos/id/770/600/400",
        "alt": ""
      },
      "heading": "Lorem ipsum",
      "body": "Lorem ipsum dolor sit amet consectetur, adipisicing elit. Exercitationem, sapiente.",
      "cta": {
        "label": "Find out more",
        "link": "#"
      }
    }
  ]
}) }}